<html>
    <head>
        <title>Lacc</title>
        <link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet">
        <script src="https://use.fontawesome.com/1f7de367f8.js"></script>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
        <link rel="stylesheet" type="text/css" href="style.css"/>
    </head>
    <body>
        <header>
            Lacc
            <div class="header-icons">
                <i class="fa fa-2x fa-user"></i>
                <i class="fa fa-2x fa-star"></i>
                <i class="fa fa-2x fa-search"></i>
            </div>
        </header>
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <div class="btn-group">                   
                        <button>Today</button>
                        <button>Week</button>
                        <button>Month</button>
                        <button>Total</button>
                    </div>
                    <div class="graph"></div>
                </div>
                <div class="col-md-5">
                    <div class="recent-foods-header">
                        RECENT FOODS
                    </div>
                    <table class="recent-foods">
                        <tr>
                            <td class="recent-food-name">2% Milk</td>
                            <td class="recent-lac-amount">17mg</td>
                            <td class="recent-fav"><i class="fa fa-star favorite"></i></td>
                        </tr>
                        <tr>
                            <td class="recent-food-name">Cottage Cheese</td>
                            <td class="recent-lac-amount">24mg</td>
                            <td class="recent-fav"><i class="fa fa-star"></i></td>
                        </tr>
                        <tr>
                            <td class="recent-food-name">Ricotta Cheese</td>
                            <td class="recent-lac-amount">14mg</td>
                            <td class="recent-fav"><i class="fa fa-star favorite"></i></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="add-food">
                    <button type="button" data-toggle="modal" data-target="#mainModal">+ ADD FOOD</button>
                </div>
            </div>
            <div class="modal fade" id="mainModal" tabindex="-1" role="dialog" aria-labelledby="mainModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="mainModalLabel">
                                <i class="fa fa-search"></i>  <input type="text" placeholder="Search Here">
                            </h5>
                        </div>
                        <div class="modal-body">
                            <table class="recent-foods">
                                <th colspan="3">
                                    Your Favorites
                                </th>
                                <tr>
                                    <td class="recent-food-name">2% Milk</td>
                                    <td class="recent-lac-amount">17mg</td>
                                    <td class="recent-fav"><i class="fa fa-star favorite"></i></td>
                                </tr>
                                <tr>
                                    <td class="recent-food-name">Cottage Cheese</td>
                                    <td class="recent-lac-amount">24mg</td>
                                    <td class="recent-fav"><i class="fa fa-star"></i></td>
                                </tr>
                                <tr>
                                    <td class="recent-food-name">Ricotta Cheese</td>
                                    <td class="recent-lac-amount">14mg</td>
                                    <td class="recent-fav"><i class="fa fa-star favorite"></i></td>
                                </tr>
                            </table>                        
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
        <script>
            var margin = {
                top: 4,
                right: 0,
                bottom: 8,
                left: 4
            },
                width = 500 - margin.left - margin.right,
                height = 240 - margin.top - margin.bottom;

            var parseDate = d3.time.format("%Y%m%d").parse;

            var x = d3.time.scale()
            .range([0, width]);

            var y = d3.scale.linear()
            .range([height, 0]);

            var xAxis = d3.svg.axis()
            .scale(x)
            .orient("bottom");

            var yAxis = d3.svg.axis()
            .scale(y)
            .orient("left");

            var line = d3.svg.line()
            .interpolate("basis")
            .x(function(d) {
                return x(d.date);
            })
            .y(function(d) {
                return y(d.trend);
            });

            var svg = d3.select(".graph").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

            d3.tsv("https://s3-us-west-2.amazonaws.com/cbeas.misc/data.tsv", function(error, data) {
                if (error) throw error;

                data.forEach(function(d) {
                    d.date = parseDate(d.date);
                    d.trend = +d.trend;
                });

                x.domain([data[0].date, data[data.length - 1].date]);
                y.domain(d3.extent(data, function(d) {
                    return d.trend;
                }));

                svg.append("linearGradient")
                    .attr("id", "temperature-gradient")
                    .attr("gradientUnits", "userSpaceOnUse")
                    .attr("x1", 0).attr("y1", y(0))
                    .attr("x2", 0).attr("y2", y(100))
                    .selectAll("stop")
                    .data([{
                        offset: "0%",
                        color: "#2D6785"
                    }, {
                        offset: "25%",
                        color: "#41A7E1"
                    },{
                        offset: "50%",
                        color: "orange"
                    }, {
                        offset: "75%",
                        color: "#EC9030"
                    }, {
                        offset: "100%",
                        color: "#EC5B30"
                    }])
                    .enter().append("stop")
                    .attr("offset", function(d) {
                    return d.offset;
                })
                    .attr("stop-color", function(d) {
                    return d.color;
                });

                svg.append("path")
                    .datum(data)
                    .attr("class", "line")
                    .attr("d", line);
            });</script>
    </body>
</html>